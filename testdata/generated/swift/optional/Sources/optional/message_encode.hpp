// Auto-generated by sdp-gen. DO NOT EDIT.
// Message mode encoders - self-describing messages with type headers.

#pragma once

#include "types.hpp"
#include "encode.hpp"
#include <cstdint>
#include <vector>
#include <array>
#include <cstring>

namespace sdp {

// Message mode constants
constexpr size_t MESSAGE_HEADER_SIZE = 10;
constexpr char MESSAGE_MAGIC[3] = {'S', 'D', 'P'};
constexpr uint8_t MESSAGE_VERSION = '2';  // ASCII '2' for v0.2.0

// EncodeRequestMessage encodes Request to self-describing message format.
// Wire format: [SDP:3][version:1][type_id:2][length:4][payload:N]
// Type ID: 1
std::vector<uint8_t> EncodeRequestMessage(const Request& src);

// EncodeMetadataMessage encodes Metadata to self-describing message format.
// Wire format: [SDP:3][version:1][type_id:2][length:4][payload:N]
// Type ID: 2
std::vector<uint8_t> EncodeMetadataMessage(const Metadata& src);

// EncodeConfigMessage encodes Config to self-describing message format.
// Wire format: [SDP:3][version:1][type_id:2][length:4][payload:N]
// Type ID: 3
std::vector<uint8_t> EncodeConfigMessage(const Config& src);

// EncodeDatabaseConfigMessage encodes DatabaseConfig to self-describing message format.
// Wire format: [SDP:3][version:1][type_id:2][length:4][payload:N]
// Type ID: 4
std::vector<uint8_t> EncodeDatabaseConfigMessage(const DatabaseConfig& src);

// EncodeCacheConfigMessage encodes CacheConfig to self-describing message format.
// Wire format: [SDP:3][version:1][type_id:2][length:4][payload:N]
// Type ID: 5
std::vector<uint8_t> EncodeCacheConfigMessage(const CacheConfig& src);

// EncodeDocumentMessage encodes Document to self-describing message format.
// Wire format: [SDP:3][version:1][type_id:2][length:4][payload:N]
// Type ID: 6
std::vector<uint8_t> EncodeDocumentMessage(const Document& src);

// EncodeTagListMessage encodes TagList to self-describing message format.
// Wire format: [SDP:3][version:1][type_id:2][length:4][payload:N]
// Type ID: 7
std::vector<uint8_t> EncodeTagListMessage(const TagList& src);

} // namespace sdp
