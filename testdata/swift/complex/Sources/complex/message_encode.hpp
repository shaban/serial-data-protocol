// Auto-generated by sdp-gen. DO NOT EDIT.
// Message mode encoders - self-describing messages with type headers.

#pragma once

#include "types.hpp"
#include "encode.hpp"
#include <cstdint>
#include <vector>
#include <array>
#include <cstring>

namespace sdp {

// Message mode constants
constexpr size_t MESSAGE_HEADER_SIZE = 10;
constexpr char MESSAGE_MAGIC[3] = {'S', 'D', 'P'};
constexpr uint8_t MESSAGE_VERSION = '2';  // ASCII '2' for v0.2.0

// EncodeParameterMessage encodes Parameter to self-describing message format.
// Wire format: [SDP:3][version:1][type_id:2][length:4][payload:N]
// Type ID: 1
std::vector<uint8_t> EncodeParameterMessage(const Parameter& src);

// EncodePluginMessage encodes Plugin to self-describing message format.
// Wire format: [SDP:3][version:1][type_id:2][length:4][payload:N]
// Type ID: 2
std::vector<uint8_t> EncodePluginMessage(const Plugin& src);

// EncodeAudioDeviceMessage encodes AudioDevice to self-describing message format.
// Wire format: [SDP:3][version:1][type_id:2][length:4][payload:N]
// Type ID: 3
std::vector<uint8_t> EncodeAudioDeviceMessage(const AudioDevice& src);

} // namespace sdp
